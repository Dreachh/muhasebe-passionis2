// Firestore güvenlik kuralları - yerel olarak değil, Firebase Console'dan ayarlanması gerekir
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Varsayılan olarak tüm okuma ve yazma istekleri reddedilir
    match /{document=**} {
      allow read, write: if false;
    }

    // Admin koleksiyonu güvenlik kuralları
    match /admin/{document} {
      // Admin kimlik bilgilerini sadece kimlik doğrulaması yapılmış kullanıcılar okuyabilir
      allow read: if true;  // Geliştirme sürecinde kolaylık için true, üretimde daha sıkı olmalı
      allow write: if true; // Geliştirme sürecinde kolaylık için true, üretimde daha sıkı olmalı
    }
    
    // Müşteri koleksiyonu güvenlik kuralları
    match /customers/{customerId} {
      // Oturum açmış herkes müşterileri okuyabilir ve yazabilir
      allow read, write: if true;
    }
    
    // Turlar koleksiyonu güvenlik kuralları
    match /tours/{tourId} {
      // Oturum açmış herkes turları okuyabilir ve yazabilir
      allow read, write: if true;
    }
    
    // Finansal kayıtlar için güvenlik kuralları
    match /financials/{documentId} {
      allow read, write: if true;
    }
    
    // Diğer koleksiyonlar için güvenlik kuralları
    match /settings/{documentId} {
      allow read, write: if true;
    }
    
    match /expenses/{documentId} {
      allow read, write: if true;
    }
    
    match /providers/{documentId} {
      allow read, write: if true;
    }
    
    match /activities/{documentId} {
      allow read, write: if true;
    }
    
    match /destinations/{documentId} {
      allow read, write: if true;
    }
    
    match /ai_conversations/{documentId} {
      allow read, write: if true;
    }
    
    match /customer_notes/{documentId} {
      allow read, write: if true;
    }
    
    match /referral_sources/{documentId} {
      allow read, write: if true;
    }
    
    match /tourTemplates/{documentId} {
      allow read, write: if true;
    }
  }
}
